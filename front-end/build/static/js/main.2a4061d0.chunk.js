(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{44:function(e,t,a){e.exports=a(58)},49:function(e,t,a){},50:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(49),a(20)),u=a(21),i=a(27),m=a(24),s=(a(50),a(16)),d=a(5),E=a(43),f=a(11),h=Object(n.createContext)({}),b=function(e){var t=e.children,a=Object(n.useState)({loading:!0,data:null}),l=Object(f.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){o({loading:!1,data:JSON.parse(window.localStorage.getItem("authData"))})}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("authData",JSON.stringify(c.data))}),[c.data]),r.a.createElement(h.Provider,{value:{auth:c,setAuthData:function(e){o({data:e})}}},t)},g=function(e){var t=e.component,a=Object(E.a)(e,["component"]),l=Object(n.useContext)(h).auth;return l.loading?r.a.createElement(d.b,Object.assign({},a,{render:function(){return r.a.createElement("p",null,"Loading...")}})):r.a.createElement(d.b,Object.assign({},a,{render:function(e){return l.data?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))},p=a(60),j=a(61),w=a(37),v=a(66),O=a(63),x=a(62),C=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(f.a)(c,2),u=(o[0],o[1]),i=Object(n.useContext)(h).setAuthData,m=Object(d.g)();return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(j.a,null,r.a.createElement(w.a,null,r.a.createElement(v.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(v.a.Header,null,r.a.createElement("h3",null,"Login")),r.a.createElement(v.a.Body,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:w.a},r.a.createElement(O.a.Label,null,"Username"),r.a.createElement(O.a.Control,{required:!0,autoComplete:"off",type:"text",id:"username",name:"username",onChange:function(e){return l(e.target.value)},className:"bg-dark text-white",placeholder:"Username"}),r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{required:!0,autoComplete:"off",type:"text",id:"password",name:"password",onChange:function(e){return u(e.target.value)},className:"bg-dark text-white",placeholder:"Password"}))),r.a.createElement(v.a.Footer,{style:{textAlign:"right"}},r.a.createElement(x.a,{size:"sm",variant:"primary",onClick:function(e){e.preventDefault(),fetch("https://6z4gbjcjfl.execute-api.eu-north-1.amazonaws.com/default/node-api/users/all").then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.find((function(e){return e.username===a}));void 0===t?console.log("error"):(console.log(t),i(t),m.replace("/"))}))}},"Login"))))))))},k=a(64),y=a(65),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={loggedIn:!1},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{bg:"dark",variant:"dark"},r.a.createElement(k.a.Brand,{href:"/"},"FakeTwitter"),r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(y.a.Link,{href:"/profile"},"Profile"),r.a.createElement(y.a.Link,{href:"/tweets"},"Tweet")),r.a.createElement(O.a,{inline:!0},r.a.createElement(y.a.Link,{href:"/login"},"Sign in"))))}}]),a}(r.a.Component),N=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Tweets"),r.a.createElement("br",null))},L=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=(t[0],t[1]),l=Object(n.useContext)(h).auth;return r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:w.a},r.a.createElement(O.a.Label,null,"Send a tweet:"),r.a.createElement(O.a.Control,{required:!0,autoComplete:"off",type:"text",id:"bio",name:"bio",value:"",onChange:function(e){return a(e.target.value)},className:"bg-dark text-white",placeholder:""}),r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),fetch("https://6z4gbjcjfl.execute-api.eu-north-1.amazonaws.com/default/node-api/users/"+l.data.id).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},"Tweet!")))))},z=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(f.a)(c,2),u=o[0],i=o[1],m=Object(n.useContext)(h).setAuthData,s=Object(d.g)(),E=function(){fetch("https://6z4gbjcjfl.execute-api.eu-north-1.amazonaws.com/default/node-api/users/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:u})}).then((function(e){return e.json()})).then((function(e){console.log("success"),m(a),s.replace("/")})).catch((function(e){console.log(e)}))};return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(j.a,null,r.a.createElement(w.a,null,r.a.createElement(v.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(v.a.Header,null,r.a.createElement("h3",null,"Register")),r.a.createElement(O.a,{onSubmit:E},r.a.createElement(v.a.Body,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:w.a},r.a.createElement(O.a.Label,null,"Username"),r.a.createElement(O.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return l(e.target.value)},className:"bg-dark text-white",placeholder:"Username"}),r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return i(e.target.value)},className:"bg-dark text-white",placeholder:"Password"}))),r.a.createElement(v.a.Footer,{style:{textAlign:"right"}},r.a.createElement(x.a,{size:"sm",variant:"primary",onClick:E},"Submit")))))))))},A=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"welcome to fakeTwitter"),r.a.createElement(z,null),r.a.createElement(C,null))},D=function(){var e=Object(n.useContext)(h),t=e.setAuthData,a=e.auth;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(w.a,null,r.a.createElement(p.a,null,r.a.createElement("h2",{className:"text-center"},"Welcome ".concat(a.data.username)," "),r.a.createElement(L,null),r.a.createElement(x.a,{onClick:function(){t(null)}},"Logout"))),r.a.createElement(w.a,null,"Twitterfeed",r.a.createElement(p.a,null,r.a.createElement(N,null)))))},T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:null},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(S,null),r.a.createElement(d.d,null,r.a.createElement(g,{exact:!0,path:"/",component:D}),r.a.createElement(d.b,{exact:!0,path:"/login",component:A}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);c.a.render(r.a.createElement(b,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.2a4061d0.chunk.js.map